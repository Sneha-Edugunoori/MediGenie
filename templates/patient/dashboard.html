<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediGenie - Patient Dashboard</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/patient/dashboard.css') }}">
</head>
<body>
    <div class="main-container">
        <!-- Include Sidebar -->
        {% include 'sidebar.html' %}

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Top Navigation -->
            <div class="top-nav">
                <div class="notification-bell">
                    <i class="far fa-bell"></i>
                    <span class="notification-badge">2</span>
                </div>

                <div class="profile-dropdown">
                    <button class="profile-btn" onclick="toggleProfileDropdown()">
                        <div class="profile-avatar">JD</div>
                        <span class="fw-500">John Doe</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    
                    <div class="dropdown-menu" id="profileDropdown" style="display: none; position: absolute; right: 0; top: 100%; background: white; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); min-width: 200px; z-index: 1000;">
                        <a class="dropdown-item" href="/profile-settings" style="padding: 10px 15px; color: #4a5568; text-decoration: none; display: block;">
                            <i class="far fa-user"></i> My Account
                        </a>
                        <a class="dropdown-item" href="/profile-settings" style="padding: 10px 15px; color: #4a5568; text-decoration: none; display: block;">
                            <i class="fas fa-user-edit"></i> Profile & Settings
                        </a>
                        <a class="dropdown-item" href="/profile-settings" style="padding: 10px 15px; color: #4a5568; text-decoration: none; display: block;">
                            <i class="fas fa-cog"></i> Account Settings
                        </a>
                        <hr style="margin: 5px 0; border-color: #e2e8f0;">
                        <a class="dropdown-item text-danger" href="#" onclick="logout()" style="padding: 10px 15px; color: #ef4444; text-decoration: none; display: block;">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </a>
                    </div>
                </div>
            </div>

            <!-- Dashboard Content -->
            <div class="dashboard-content">
                <!-- Welcome Section -->
                <div class="welcome-section">
                    <div class="d-flex align-items-center">
                        <div>
                            <h2>Welcome back, John!</h2>
                            <p>Your health journey continues here</p>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h3 class="section-title">Quick Actions</h3>
                    <div class="action-cards">
                        <div class="action-card" onclick="bookAppointment()">
                            <div class="action-icon blue">
                                <i class="far fa-calendar-plus"></i>
                            </div>
                            <h6>Book Appointment</h6>
                            <p>Schedule with your healthcare provider</p>
                        </div>

                        <div class="action-card" onclick="viewMedicalRecords()">
                            <div class="action-icon green">
                                <i class="far fa-file-alt"></i>
                            </div>
                            <h6>Medical Records</h6>
                            <p>View and manage your health records</p>
                        </div>

                        <div class="action-card" onclick="viewMessages()">
                            <div class="action-icon orange">
                                <i class="far fa-comment"></i>
                            </div>
                            <h6>Messages</h6>
                            <p>Communicate with your care team</p>
                        </div>

                        <div class="action-card" onclick="viewHealthTracking()">
                            <div class="action-icon purple">
                                <i class="fas fa-heartbeat"></i>
                            </div>
                            <h6>Health Tracking</h6>
                            <p>Monitor your vital signs and symptoms</p>
                        </div>
                    </div>
                </div>

                <!-- Dashboard Grid -->
                <div class="dashboard-grid">
                    <!-- Upcoming Appointments -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="far fa-calendar-alt"></i>
                            </div>
                            <div>
                                <h5 class="card-title">Upcoming Appointments</h5>
                                <p class="card-subtitle">Your scheduled healthcare visits</p>
                            </div>
                        </div>

                        <div class="appointments-list">
                            <div class="appointment-item">
                                <div class="doctor-avatar">SS</div>
                                <div class="appointment-info">
                                    <h6>Dr. Sarah Smith</h6>
                                    <p>Cardiology</p>
                                    <p><i class="far fa-clock"></i> Tomorrow • 2:00 PM</p>
                                </div>
                                <span class="appointment-status status-confirmed">confirmed</span>
                            </div>

                            <div class="appointment-item">
                                <div class="doctor-avatar">MJ</div>
                                <div class="appointment-info">
                                    <h6>Dr. Michael Johnson</h6>
                                    <p>General Practice</p>
                                    <p><i class="far fa-clock"></i> Friday • 10:30 AM</p>
                                </div>
                                <span class="appointment-status status-pending">pending</span>
                            </div>
                        </div>

                        <a href="/appointments" class="view-all-link">
                            View All Appointments <i class="fas fa-chevron-right"></i>
                        </a>
                    </div>

                    <!-- Recent Activity -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-pulse"></i>
                            </div>
                            <div>
                                <h5 class="card-title">Recent Activity</h5>
                                <p class="card-subtitle">Latest updates on your health records</p>
                            </div>
                        </div>

                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-icon lab">
                                    <i class="fas fa-vial"></i>
                                </div>
                                <div class="activity-content">
                                    <h6>Lab Results</h6>
                                    <p>Blood work results uploaded</p>
                                    <span class="activity-time">2 hours ago</span>
                                </div>
                            </div>

                            <div class="activity-item">
                                <div class="activity-icon prescription">
                                    <i class="fas fa-prescription-bottle"></i>
                                </div>
                                <div class="activity-content">
                                    <h6>Prescription</h6>
                                    <p>New prescription from Dr. Smith</p>
                                    <span class="activity-time">1 day ago</span>
                                </div>
                            </div>

                            <div class="activity-item">
                                <div class="activity-icon appointment">
                                    <i class="far fa-calendar-check"></i>
                                </div>
                                <div class="activity-content">
                                    <h6>Appointment</h6>
                                    <p>Appointment confirmed for tomorrow</p>
                                    <span class="activity-time">2 days ago</span>
                                </div>
                            </div>
                        </div>

                        <a href="#" class="view-all-link">
                            View All Activity <i class="fas fa-chevron-right"></i>
                        </a>
                    </div>
                </div>

                <!-- Health Overview -->
                <div class="dashboard-card">
                    <h3 class="section-title">Health Overview</h3>
                    <p class="text-muted mb-4">Quick snapshot of your current health status</p>
                    
                    <div class="health-overview">
                        <div class="health-metric">
                            <div class="metric-icon" style="background: var(--primary-blue);">
                                <i class="fas fa-heartbeat"></i>
                            </div>
                            <div class="metric-value">120/80</div>
                            <div class="metric-label">Blood Pressure</div>
                            <span class="metric-status">Normal</span>
                        </div>

                        <div class="health-metric">
                            <div class="metric-icon" style="background: #8B5CF6;">
                                <i class="fas fa-heart"></i>
                            </div>
                            <div class="metric-value">72 BPM</div>
                            <div class="metric-label">Heart Rate</div>
                            <span class="metric-status">Normal</span>
                        </div>

                        <div class="health-metric">
                            <div class="metric-icon" style="background: #10B981;">
                                <i class="far fa-calendar"></i>
                            </div>
                            <div class="metric-value">2 weeks</div>
                            <div class="metric-label">Last Checkup</div>
                            <span class="metric-status">ago</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/patient/dashboard.js') }}"></script>

</body>
</html>